import{_ as s,o as a,c as n,V as l}from"./chunks/framework.d844f6b8.js";const d=JSON.parse('{"title":"提升开发体验","description":"","frontmatter":{},"headers":[],"relativePath":"webpack/senior/developmentExperience.md","filePath":"webpack/senior/developmentExperience.md","lastUpdated":1687341894000}'),o={name:"webpack/senior/developmentExperience.md"},p=l(`<h1 id="提升开发体验" tabindex="-1">提升开发体验 <a class="header-anchor" href="#提升开发体验" aria-label="Permalink to &quot;提升开发体验&quot;">​</a></h1><h2 id="sourcemap" tabindex="-1">SourceMap <a class="header-anchor" href="#sourcemap" aria-label="Permalink to &quot;SourceMap&quot;">​</a></h2><h2 id="为什么" tabindex="-1">为什么 <a class="header-anchor" href="#为什么" aria-label="Permalink to &quot;为什么&quot;">​</a></h2><p>开发时我们运行的代码是经过 webpack 编译后的，例如下面这个样子：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#89DDFF;">/</span><span style="color:#A6ACCD;">\\</span><span style="color:#89DDFF;">*</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ATTENTION</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> The </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eval</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> devtool has been </span><span style="color:#82AAFF;">used</span><span style="color:#A6ACCD;"> (maybe by default </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> mode: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> This devtool is neither made for production nor for readable output files</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> It uses </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">eval()</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> calls to create a separate source file </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> the browser devtools</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> If you are trying to read the output file</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> select a different </span><span style="color:#82AAFF;">devtool</span><span style="color:#A6ACCD;"> (https:</span><span style="color:#676E95;font-style:italic;">//webpack.js.org/configuration/devtool/)</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> or disable the default devtool with </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">devtool: false</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">.</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> If you are looking for production</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">ready output files</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> see mode: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//webpack.js.org/configuration/mode/).</span></span>
<span class="line"><span style="color:#A6ACCD;">  \\*/</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/**\\*\\***/</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// webpackBootstrap</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/**\\*\\***/</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;">/**\\*\\***/</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">var</span><span style="color:#A6ACCD;"> **</span><span style="color:#FFCB6B;">webpack_modules</span><span style="color:#A6ACCD;">** = </span><span style="color:#89DDFF;">({</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/**_/ &quot;./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less&quot;:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/_!**************************************************\\*\\*\\*\\*****************************************************!\\*\\</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> !**_ ./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less _**! \\*****************************************************\\*****************************************************/</span></span>
<span class="line"><span style="color:#A6ACCD;">/\\*\\*\\*/ ((</span><span style="color:#A6ACCD;font-style:italic;">module</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> **</span><span style="color:#A6ACCD;font-style:italic;">webpack_exports</span><span style="color:#A6ACCD;">**</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> **</span><span style="color:#A6ACCD;font-style:italic;">webpack_require</span><span style="color:#A6ACCD;">**) </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">eval</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">**webpack_require**.r(**webpack_exports**);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony export _/ **webpack_require**.d(**webpack_exports**, {</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony export _/ </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">default</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">: () =&gt; (**WEBPACK_DEFAULT_EXPORT**)</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony export _/ });</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony import _/ var </span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_noSourceMaps_js**WEBPACK_IMPORTED_MODULE_0** = **webpack_require**(/_! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js _/ </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">./node_modules/css-loader/dist/runtime/noSourceMaps.js</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony import _/ var </span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_noSourceMaps_js**WEBPACK*IMPORTED_MODULE_0***default = /_#**PURE**_/**webpack_require**.n(</span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_noSourceMaps_js**WEBPACK_IMPORTED_MODULE_0**);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony import _/ var </span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_api_js**WEBPACK_IMPORTED_MODULE_1** = **webpack_require**(/_! ../../node_modules/css-loader/dist/runtime/api.js _/ </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">./node_modules/css-loader/dist/runtime/api.js</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony import _/ var </span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_api_js**WEBPACK*IMPORTED_MODULE_1***default = /_#**PURE**_/**webpack_require**.n(</span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_api_js**WEBPACK_IMPORTED_MODULE_1**);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">// Imports</span><span style="color:#A6ACCD;">\\n\\n\\n</span><span style="color:#C3E88D;">var **_CSS_LOADER_EXPORT_** = </span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_api_js**WEBPACK*IMPORTED_MODULE_1***default()((</span><span style="color:#A6ACCD;">\\_</span><span style="color:#C3E88D;">node_modules_css_loader_dist_runtime_noSourceMaps_js**WEBPACK*IMPORTED_MODULE_0***default()));</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">// Module</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">**_CSS_LOADER_EXPORT_**.push([module.id, </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">.box2 {</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n width: 100px;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n height: 100px;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n background-color: deeppink;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n}</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">, </span><span style="color:#A6ACCD;">\\&quot;\\&quot;</span><span style="color:#C3E88D;">]);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">// Exports</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/_ harmony default export _/ const **WEBPACK_DEFAULT_EXPORT** = (**_CSS_LOADER_EXPORT_**);</span><span style="color:#A6ACCD;">\\n\\n\\n</span><span style="color:#C3E88D;">//# sourceURL=webpack://webpack5/./src/less/index.less?./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">/\\*\\*\\*/ </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 其他省略</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>所有 css 和 js 合并成了一个文件，并且多了其他代码。此时如果代码运行出错那么提示代码错误位置我们是看不懂的。一旦将来开发代码文件很多，那么很难去发现错误出现在哪里。</p><p>所以我们需要更加准确的错误提示，来帮助我们更好的开发代码。</p><h2 id="是什么" tabindex="-1">是什么 <a class="header-anchor" href="#是什么" aria-label="Permalink to &quot;是什么&quot;">​</a></h2><p><code>SourceMap</code>（源代码映射）是一个用来生成源代码与构建后代码一一映射的文件的方案。</p><p>它会生成一个 xxx.map 文件，里面包含源代码和构建后代码每一行、每一列的映射关系。当构建后代码出错了，会通过 xxx.map 文件，从构建后代码出错位置找到映射后源代码出错位置，从而让浏览器提示源代码文件出错位置，帮助我们更快的找到错误根源。</p><h2 id="怎么用" tabindex="-1">怎么用 <a class="header-anchor" href="#怎么用" aria-label="Permalink to &quot;怎么用&quot;">​</a></h2><p>通过查看 <a href="https://webpack.docschina.org/configuration/devtool/" target="_blank" rel="noreferrer">Webpack DevTool 文档</a>可知，SourceMap 的值有很多种情况.</p><p>但实际开发时我们只需要关注两种情况即可：</p><ul><li>开发模式：<code>cheap-module-source-map</code></li></ul><blockquote><p>优点：打包编译速度快，只包含行映射</p></blockquote><blockquote><p>缺点：没有列映射</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 其他省略</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cheap-module-source-map</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>生产模式：source-map <blockquote><p>优点：包含行/列映射</p></blockquote></li></ul><blockquote><p>缺点：打包编译速度更慢</p></blockquote><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 其他省略</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">source-map</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,20),e=[p];function t(r,c,D,y,i,C){return a(),n("div",null,e)}const u=s(o,[["render",t]]);export{d as __pageData,u as default};
